<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Hello Bulma!</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
        <!-- <link href="style.css" rel="stylesheet" type="text/css" /> -->
    </head>

    <body>
        <!-- Scripts -->
        <script src='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/js/all.min.js'></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
        crossorigin="anonymous"></script>

        <!-- Defaults -->
        <div style="display:none">

            <!-- dropdowns -->
            <div id="dropdown-template" onclick="chooseUser(this);">

                <p class="dropdown-item dropdown-username"></p>

                <hr class="dropdown-divider">

            </div>

            <!-- private chat boxes -->
            <div>

                <div id="chat-box" class="box" style="display:none">
                </div>

                <div id="chat-message" class="block">
                </div>

            </div>

            <div id="user-box-template" class="box">
                <article class="media">

                    <!-- Color box -->
                    <div class="media-left">
                        <figure id="card-user-favorite-color-1" class="image is-64x64" style="background-color:#FFFFFF">
                            <!--<img src="https://bulma.io/images/placeholders/128x128.png" alt="Image">-->
                        </figure>
                    </div>

                    <!-- User content -->
                    <div class="media-content">

                        <div class="content">

                            <!-- Name -->
                            <h2 style="margin-bottom:0" >
                                New User
                            </h2>

                            <!-- Username -->
                            <small>
                                User
                            </small>

                            <!-- Favorite number -->
                            <em>
                                #
                            </em>

                            <br>

                            <!-- Message -->
                            <span>
                                A new user has connected but not yet submitted an update. As soon as they do, this box will be updated to contain their information.
                            </span>

                        </div>

                        <!-- Typing spinner -->
                        <div class="icon has-text-info is-hidden">
                            <i class="fas fa-spinner fa-pulse"></i>
                        </div>

                    </div>

                </article>
            </div>

        </div>
        
        <!-- Main Section Heading -->
        <section class="section">
            <div class="container">

                <h1 class="title">
                    Hello World
                </h1>

                <p class="subtitle">
                    My first website with <strong>Bulma</strong>!
                </p>

                <p class="subtitle">
                    There are <strong id="people-connected">0</strong> people connected!
                </p>

            </div>
        </section>

        <!-- Columns -->
        <div class="columns m-5">

            <!-- Left column -->
            <div class="column">

                <!-- Tabs -->
                <div class="tabs">

                    <!-- Form/chart tabs -->
                    <ul>

                        <!-- Form tab -->
                        <li id="form-tab" class="is-active">
                            <a onclick="showForm();">
                                Form
                            </a>
                        </li>

                        <!-- Chart tab -->
                        <li id="chart-tab">
                            <a onclick="showChart();">
                                Chart
                            </a>
                        </li>

                        <!-- Private chat tab -->
                        <li id="private-chat-tab">
                            <a onclick="showPrivateChat();">
                                Private Chat
                            </a>
                        </li>

                    </ul>

                </div>

                <!-- Form -->
                <form id="public-form">

                    <!-- Name field -->
                    <div class="field">

                        <label class="label">
                            Name
                        </label>

                        <div class="control">
                            <input id="form-user-full-name" class="input" type="text" placeholder="Text input">
                        </div>

                    </div>

                    <!-- Username field -->
                    <div class="field">

                        <label class="label">
                            Username
                        </label>

                        <div class="control has-icons-left has-icons-right">

                            <input id="form-user-short-name" class="input is-success" type="text" placeholder="Text input" value="bulma">

                            <!-- Person icon -->
                            <span class="icon is-small is-left">
                                <i class="fas fa-user"></i>
                            </span>

                            <!-- Checkmark icon -->
                            <span class="icon is-small is-right">
                                <i class="fas fa-check"></i>
                            </span>

                        </div>

                        <!-- Available message -->
                        <p class="help is-success">
                            This username is available
                        </p>

                    </div>

                    <!-- Message field -->
                    <div class="field">

                        <label class="label">
                            Message
                        </label>

                        <div class="control">
                            <textarea id="form-user-message" class="textarea" placeholder="Textarea"></textarea>
                        </div>

                    </div>

                    <!-- Favorite number field -->
                    <input id="form-user-favorite-number" type="number" min="0" max="10" />

                    <!-- Favorite color field -->
                    <input id="form-user-favorite-color" type="color" />

                    <!-- Submit field -->
                    <div class="field is-grouped">

                        <div class="control">
                            <button class="button is-link">
                                Submit
                            </button>
                        </div>

                        <div class="control">
                            <button class="button is-link is-light">
                                Cancel
                            </button>
                        </div>

                    </div>

                </form>

                <!-- Chart -->
                <div id="chart">

                    <div class="wrapper">
                        <canvas id="chart-0"></canvas>
                    </div>

                    <div class="toolbar">

                        <button onclick="randomize(this)">
                            Randomize
                        </button>

                        <button onclick="addDataset(this)">
                            Add Dataset
                        </button>

                        <button onclick="removeDataset(this)">
                            Remove Dataset
                        </button>

                    </div>

                </div>

                <!-- Private-chat -->
                <div id="private-chat">

                    <!-- Chat Box -->
                    <div id="chat-boxes">
                        <!-- Chat boxes will be stored here -->
                    </div>

                    <field>

                        <!-- dropdown label -->
                        <label class="label">
                            To:
                        </label>

                        <!-- Dropdown list -->
                        <div class="dropdown is-active">

                            <!-- dropdown trigger -->
                            <div class="dropdown-trigger">
                                <button class="button" aria-haspopup="true" aria-controls="dropdown-menu2" onclick="dropdownClick();">

                                    <span id="dropdown-display-text">Select User</span>

                                    <span class="icon is-small">
                                        <i class="fas fa-angle-down" aria-hidden="true"></i>
                                    </span>

                                </button>
                            </div>

                            <!-- dropdown list -->
                            <div class="dropdown-menu" id="dropdown-menu" role="menu">
                                <div class="dropdown-content" id="dropdown-items">

                                    <hr class="dropdown-divider">

                                </div>
                            </div>

                        </div>

                    </field>

                    <form id="private-form">

                        <field>

                            <!-- Message field -->
                            <div class="field">

                                <label class="label">
                                    Message
                                </label>

                                <div class="control">
                                    <textarea id="form-user-private-chat" class="textarea" placeholder="Textarea"></textarea>
                                </div>

                            </div>
                        </field>

                        <div class="control">
                            <button class="button is-link">
                                Submit
                            </button>
                        </div>

                    </form>

                </div>

            </div>

            <!-- Right column -->
            <div class="column" id="user-list">

                <!-- Typing notification -->
                <p id="user-typing-status"></p>

                <!-- User cards -->
                <div id="self-box" class="box">
                    <article class="media">

                        <!-- Color box -->
                        <div class="media-left">
                            <figure id="card-user-favorite-color-1" class="image is-64x64" style="background-color:#FFFFFF">
                                <!--<img src="https://bulma.io/images/placeholders/128x128.png" alt="Image">-->
                            </figure>
                        </div>

                        <!-- User content -->
                        <div class="media-content">

                            <div class="content">

                                <!-- Name -->
                                <h2 style="margin-bottom:0" >
                                    Your Name
                                </h2>

                                <!-- Username -->
                                <small>
                                    You
                                </small>

                                <!-- Favorite number -->
                                <em>
                                    #
                                </em>

                                <br>

                                <!-- Message -->
                                <span>
                                    If this is the top box, then this is your box. When you submit a message, this box will be updated so that you can see what others see. If this is not your top box, then another user was logged in before you and has not updated their box.
                                </span>

                            </div>

                            <!-- Typing spinner -->
                            <div class="icon has-text-info is-hidden">
                                <i class="fas fa-spinner fa-pulse"></i>
                            </div>

                        </div>

                    </article>
                </div>

            </div>

        </div>

        <!-- Scripts -->

        <!-- Socket.IO hookup -->
        <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>

        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

        <!-- Chart script -->
        <script src="/js/chart.js"></script>

        <script src="/js/socket.js"></script>

        <script src="/js/eventhandlers.js"></script>

    </body>

</html>